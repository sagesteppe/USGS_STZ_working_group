sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$SZ, size = 5)
pts <- lapply(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070)
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$SZ, size = 10)
st_intersects(pts, sz_current$SZ)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
st_intersects(sz_current$SZ, pts)
lengths( st_intersects(sz_current$SZ, pts))> 0
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$SZ, size = 10)
lengths( st_intersects(pts, sz_current$SZ)) > 0
pts
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- lapply(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070)
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- lapply(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070)
cheese_current <- st_difference(sz_current$enm, pts)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- lapply(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
sf:st_make_valid()
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- lapply(pts, st_buffer, dist = sample(1e4:1.5e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
1e4:1.5e5
?sample
1e4
1.5e5
sample(1e4:1.5e5, size = 1)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- lapply(pts, st_buffer, dist = sample(1e4:1.5e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
pts <- map(pts, st_buffer, dist = sample(1e4:1.5e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
sz_current <- prep_dat(sz_current)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- map(pts, st_buffer, dist = sample(1e4:1.5e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- map(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
?map
?Map
pts <- Map(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
pts <- lapply(pts, st_buffer, dist = sample(1e4:1e5, size = 1))
lapply(pts, sample(1e4:1e5, size = 1))
lapply(pts, sample, 1e4:1e5, size = 1)
lapply(pts, sample, x = 1e4:1e5, size = 1, replace = TRUE)
lapply(sample, x = 1e4:1e5, size = 1, replace = TRUE)
apply(sample, x = 1e4:1e5, size = 1, replace = TRUE)
Map(sample, x = 1e4:1e5, size = 1, replace = TRUE)
library(sf)
data('nc')
data(nc)
pts <- data.frame(
sample(0:1000, size = 5),
sample(0:1000, size = 5)
)
pts <- data.frame(
X = sample(0:1000, size = 5),
Y = sample(0:1000, size = 5)
) |>
sf::st_as_sf(coords = c('X', 'Y'))
gplot() +
geom_sf(data = ts)
gplot() +
geom_sf(data = pts)
ggplot() +
geom_sf(data = pts)
pts <- lapply(pts, st_buffer, dist = sample(1e1:1e2, size = 1))
ggplot() +
geom_sf(data = pts2)
pts <- data.frame(
X = sample(0:1000, size = 5),
Y = sample(0:1000, size = 5)
) |>
sf::st_as_sf(coords = c('X', 'Y'))
pts2 <- lapply(pts, st_buffer, dist = sample(1e1:1e2, size = 1))
ggplot() +
geom_sf(data = pts2)
pts2 <- st_combine(do.call("c", pts2)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
pts <- data.frame(
X = sample(0:1000, size = 5),
Y = sample(0:1000, size = 5)
) |>
sf::st_as_sf(coords = c('X', 'Y'))
pts2 <- lapply(pts, st_buffer, dist = sample(1e1:1e2, size = 1))
pts2 <- st_combine(do.call("c", pts2)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
ggplot() +
geom_sf(data = pts2)
ggplot() +
geom_sf(data = pts)
ggplot() +
geom_sf(data = pts) +
geom_sf(data = pts2)
ggplot() +
geom_sf(data = pts2) +
geom_sf(data = pts)
pts <- data.frame(
X = sample(0:1000, size = 5),
Y = sample(0:1000, size = 5)
) |>
sf::st_as_sf(coords = c('X', 'Y'))
pts2 <- lapply(pts, st_buffer, dist = sample(1e1:1e2, size = 1))
pts2 <- st_combine(do.call("c", pts2)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
ggplot() +
geom_sf(data = pts2) +
geom_sf(data = pts)
pts <- data.frame(
X = sample(0:1000, size = 5),
Y = sample(0:1000, size = 5)
) |>
sf::st_as_sf(coords = c('X', 'Y'))
pts2 <- lapply(pts, st_buffer, dist = sample(1e1:1e2, size = 1))
pts2 <- st_combine(do.call("c", pts2)) |>
st_as_sf() |>
st_make_valid()
ggplot() +
geom_sf(data = pts2) +
geom_sf(data = pts)
Map(pts, st_buffer, dist = sample(1e1:1e2, size = 10))
?Map
Map(st_buffer, pts, dist = sample(1e1:1e2, size = 10))
Map(st_buffer, pts, dist = sample(1e1:1e2, size = 1))
pts <- lapply(pts, st_buffer, dist = sample(1e4:1e5, size = 10))
Map(st_buffer, pts, dist = sample(1e1:1e2, size = 10))
Map(st_buffer, pts, dist = sample(1e1:1e2, size = 1))
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- Map(st_buffer, pts, dist = sample(1e1:1e2, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
cheese_current
sz_current <- prep_dat(sz_current)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- Map(st_buffer, pts, dist = sample(1e5:1e6, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- Map(st_buffer, pts, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
sample(1e4:1e5, size = 1)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
pts <- Map(st_buffer, pts, dist = sample(1e4:1e5, size = 1))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
pts <- Map(st_buffer, pts, dist = sample(1e4:1e5, size = 10))
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
dists <- sample(1e4:1e5, size = 10)
dists
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
dists <- sample(1e4:1e5, size = 10)
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 5)
dists <- sample(1e4:1e5, size = 5)
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 5)
dists <- sample(1e4:1.5e4, size = 5)
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 5)
dists <- sample(1e4:2e4, size = 5)
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 5)
dists <- sample(1e4:5e4, size = 5)
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
knitr::opts_chunk$set(
comment = "", echo = FALSE, message = F, warning = F
)
library(sf)
library(tidyverse)
library(smoothr)
library(patchwork)
library(grid)
source('functions.R')
sz_current <- st_read('../data/CurrentZones.gpkg', quiet = T) |>
sf::st_transform(5070) |>
rename(Poly = ID)
sz_forecast <- st_read('../data/ClimateShiftedZones.gpkg', quiet = T) |>
mutate(Poly = c('Western', 'East', 'Northern', 'Central'))|> # silly with the gui
sf::st_transform(5070) # just set names here.
map_bb <- st_bbox( bind_rows(sz_current, sz_forecast))
sz_current <- prep_dat(sz_current)
sz_forecast <- prep_dat(sz_forecast)
# now we will generate some cavities in these surfaces to visualize the results of filtering.
pts <- st_sample(sz_current$enm, size = 10)
dists <- sample(1e4:5e4, size = 10)
pts <- Map(st_buffer, pts, dist = dists)
pts <- st_combine(do.call("c", pts)) |>
st_as_sf(crs = 5070) |>
st_make_valid()
cheese_current <- st_difference(sz_current$enm, pts)
ggplot(cheese_current) +
geom_sf() +
geom_sf(data = pts, fill = NA)
ggplot(cheese_current) +
geom_sf()
source('functions.R')
library(tidyverse)
source('functions.R')
setwd('~/Documents/assoRted/USGS_STZ_working_group/scripts')
matrix(nrow = 7, ncol = 7)
dat <- matrix(nrow = 7, ncol = 7)
dat[1:3,] <- 'A'
dat
dat[,1:3] <- 1
dat
rm(dat)
dat
dat
dat <- matrix(nrow = 7, ncol = 7)
dat[,1:3] <- 1
dat[]
dat[1:2,4:7] <- 2
dat[5:7,4:7] <- 4
dat
dat[3:4,4:7] <- 3
dat
